<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paul's Flex Gallery</title>

    <style>
        * {margin: 0; padding: 0;}
        html body {height: 100%; width: 100%}

        .panels {
            color: white;
            min-height: 100vh;
            overflow: hidden;
            display: flex;
        }
        .panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            transition: 
                font-size 0.7s cubic-bezier(0.61, -0.19, 0.7, -0.11), 
                flex 0.7s cubic-bezier(0.61, -0.19, 0.7, -0.11), 
                background 0.2s; /* if this code doesn't exist, JS doesn't work */
                font-size: 30px;
        }
        .panel > p {
            flex: 1 0 auto;
            vertical-align: middle;
            text-align: center;
            margin: 0;
            justify-content: center;
            align-items: center;
            display: flex;
            transition: flex 0.7s cubic-bezier(0.61, -0.19, 0.7, -0.11);
            
        }

        .panel > *:first-child { transform: translateY(-100%); }
        .panel.open-active > *:first-child { transform: translateY(0%); transition: 0.5s cubic-bezier(0.61, -0.19, 0.7, -0.11); }
        .panel > *:last-child { transform: translateY(100%); }
        .panel.open-active > *:last-child { transform: translateY(0%); transition: 0.5s cubic-bezier(0.61, -0.19, 0.7, -0.11);}

        .open { flex: 5 !important; font-size: 50px; }

        .panel1 {
            background: no-repeat url("https://uploads-ssl.webflow.com/5e7becada8b9555b8fa0c5cb/5ea2eac395e67d887836ba01_herbal-tea-for-anxiety.jpg");
        }
        .panel2 {
            background: no-repeat url("https://www.wallpaperuse.com/wallp/47-478315_m.jpg");
        }
        .panel3 {
            background: no-repeat url("https://www.wallpapertip.com/wmimgs/9-98008_reading-background-hd.jpg"); 
        }
        .panel4 {
            background: no-repeat url("https://static.onecms.io/wp-content/uploads/sites/34/2020/08/04/woman-hiking-mountain-getty-0720.jpg");
        }
        .panel5 {
            background: no-repeat url("https://wallpaperaccess.com/full/176885.jpg");
        }
    </style>

</head>
<body>
    <div class="panels">
        <div class="panel panel1">
            <p>SLOW</p>
            <p>DOWN</p>
            <p>&nbsp;</p>
        </div>
        <div class="panel panel2">
            <p>SLEEP</p>
            <p>MORE</p>
            <p>&nbsp;</p>
        </div>
        <div class="panel panel3">
            <p>READ</p>
            <p>BOOKS</p>
            <p>&nbsp;</p>
        </div>
        <div class="panel panel4">
            <p>WALK</p>
            <p>EVERY</p>
            <p>DAY</p>
        </div>
        <div class="panel panel5">
            <p>BE</p>
            <p>KIND</p>
            <p>&nbsp;</p>
        </div>
    </div>

    <script>
        const panels = document.querySelectorAll(".panel");
        function toggleOpen() {
            this.classList.toggle('open');
        }
        
        function toggleActive(e) {
            console.log(e.propertyName);
            if(e.propertyName === 'flex-grow') {
                this.classList.toggle('open-active');
            }
        }

        panels.forEach(panel => panel.addEventListener("click", toggleOpen));
        panels.forEach(panel => panel.addEventListener("transitionend", toggleActive));

    </script>
</body>
</html>